<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
<title>ClassLoader - DumbStack</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">




<meta name="description" content="Now I realize, it's a comedy.">





    <meta name="description" content="来源：ClassLoader in Java">
<meta property="og:type" content="article">
<meta property="og:title" content="ClassLoader">
<meta property="og:url" content="http://example.com/2022/05/27/ClassLoader/index.html">
<meta property="og:site_name" content="DumbStack">
<meta property="og:description" content="来源：ClassLoader in Java">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.fygod.xyz/uploads/2022/08/30/1/1661812780/gFzxgiTk_wallhaven-pkvw9p-compressed.jpg">
<meta property="og:image" content="https://cdn.fygod.xyz/uploads/2022/08/31/1/1661959818/nLaRg0M4_jvmclassloader.jpg">
<meta property="og:image" content="https://cdn.fygod.xyz/uploads/2022/08/31/1/1661959982/ZdhHR0ip_java_classloader-1024x311.png">
<meta property="article:published_time" content="2022-05-27T01:33:24.000Z">
<meta property="article:modified_time" content="2022-08-31T15:44:05.703Z">
<meta property="article:author" content="Joker">
<meta property="article:tag" content="JVM">
<meta property="article:tag" content="JRE">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.fygod.xyz/uploads/2022/08/30/1/1661812780/gFzxgiTk_wallhaven-pkvw9p-compressed.jpg">





<link rel="icon" href="https://fygod.xyz/assets/favicon-gwfaaeza.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">


<link rel="stylesheet" href="/css/style.css">


<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
    
    
    
    
    
    
    
    
    

    


<meta name="generator" content="Hexo 6.2.0"></head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                    
                    <img src="/images/logo.svg" alt="" height="28">
                    
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item "
               href="/archives">Archives</a>
            
            <a class="navbar-item "
               href="/categories">Documentation</a>
            
            <a class="navbar-item "
               href="/tags">Tag</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="Search" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            <div class="navbar-item is-hoverable has-dropdown is-hidden-mobile is-hidden-tablet-only toc">
                <a class="navbar-item" title="Table of Contents">
                    <i class="fa fa-list"></i>
                </a>
                <div class="navbar-dropdown is-right">
                    
                    
                    
                    
                    <a class="navbar-item" href="#Types-of-ClassLoaders-in-Java">1&nbsp;&nbsp;<b>Types of ClassLoaders in Java</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#Principles-of-functionality-of-a-Java-ClassLoader">2&nbsp;&nbsp;<b>Principles of functionality of a Java ClassLoader</b></a>
                    
                    
                    <hr class="navbar-divider">
                    
                    
                    <a class="navbar-item" href="#Methods-of-Java-lang-ClassLoader">3&nbsp;&nbsp;<b>Methods of Java.lang.ClassLoader</b></a>
                    
                </div>
            </div>
            
            
            <a class="navbar-item" title="GitHub" target="_blank" rel="noopener" href="https://github.com/dumb0stack/dumb0stack.github.io">
                
                <i class="fab fa-github"></i>
                
            </a>
               
            
        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            ClassLoader
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2022-05-27T01:33:24.000Z" itemprop="datePublished">May 27 2022</time>
            
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/Notes/">Notes</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            8 minutes read (About 1158 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><p><img src="https://cdn.fygod.xyz/uploads/2022/08/30/1/1661812780/gFzxgiTk_wallhaven-pkvw9p-compressed.jpg"></p>
<p><strong>来源：</strong><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/classloader-in-java/">ClassLoader in Java</a></p>
<span id="more"></span>

<p>The&nbsp;<strong>Java ClassLoader</strong>&nbsp;is a part of the&nbsp;<a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/differences-jdk-jre-jvm/">Java Runtime Environment</a>&nbsp;that dynamically loads Java classes into the&nbsp;<a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/jvm-works-jvm-architecture/">Java Virtual Machine</a>. The Java run time system does not need to know about files and file systems because of classloaders.</p>
<p><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/classes-objects-java/">Java classes</a>&nbsp;aren’t loaded into memory all at once, but when required by an application. At this point, the&nbsp;<strong>Java ClassLoader</strong>&nbsp;is called by the&nbsp;<strong>JRE</strong>&nbsp;and these ClassLoaders load classes into memory dynamically.</p>
<h3 id="Types-of-ClassLoaders-in-Java"><a href="#Types-of-ClassLoaders-in-Java" class="headerlink" title="Types of ClassLoaders in Java"></a>Types of ClassLoaders in Java</h3><p>Not all classes are loaded by a single ClassLoader. Depending on the type of class and the path of class, the ClassLoader that loads that particular class is decided. To know the ClassLoader that loads a class the&nbsp;<a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/java-lang-class-class-java-set-1/">getClassLoader()</a>&nbsp;method is used. All classes are loaded based on their names and if any of these classes are not found then it returns a&nbsp;<a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/classnotfoundexception-vs-noclassdeffounderror-java/">NoClassDefFoundError</a>&nbsp;or&nbsp;<a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/classnotfoundexception-vs-noclassdeffounderror-java/">ClassNotFoundException</a>.</p>
<p>A Java Classloader is of&nbsp;<strong>three types</strong>:</p>
<ol>
<li><strong>BootStrap ClassLoader:</strong> &nbsp;A Bootstrap Classloader is a Machine code which kickstarts the operation when the JVM calls it. It is not a java class. Its job is to load the first pure Java ClassLoader. Bootstrap ClassLoader loads classes from the location&nbsp;<code>rt.jar</code>. Bootstrap ClassLoader doesn’t have any parent ClassLoaders. It is also called as the&nbsp;<strong>Primodial ClassLoader</strong>.</li>
<li><strong>Extension ClassLoader:</strong> &nbsp;The Extension ClassLoader is a child of Bootstrap ClassLoader and loads the extensions of core java classes from the respective JDK Extension library. It loads files from&nbsp;<code>jre/lib/ext</code>&nbsp;directory or any other directory pointed by the system property&nbsp;<code>java.ext.dirs</code>.</li>
<li><strong>System ClassLoader:</strong> &nbsp;An Application ClassLoader is also known as a System ClassLoader. It loads the Application type classes found in the environment variable&nbsp;<code>CLASSPATH, -classpath or -cp command line option</code>. The Application ClassLoader is a child class of Extension ClassLoader.</li>
</ol>
<p><strong>Note</strong>: The ClassLoader Delegation Hierarchy Model always functions in the order Application ClassLoader-&gt;Extension ClassLoader-&gt;Bootstrap ClassLoader. The Bootstrap ClassLoader is always given the higher priority, next is Extension ClassLoader and then Application ClassLoader.</p>
<h3 id="Principles-of-functionality-of-a-Java-ClassLoader"><a href="#Principles-of-functionality-of-a-Java-ClassLoader" class="headerlink" title="Principles of functionality of a Java ClassLoader"></a>Principles of functionality of a Java ClassLoader</h3><p><img src="https://cdn.fygod.xyz/uploads/2022/08/31/1/1661959818/nLaRg0M4_jvmclassloader.jpg"></p>
<p>Principles of functionality are the set of rules or features on which a Java ClassLoader works. There are three principles of functionality, they are:</p>
<ol>
<li><strong>Delegation Model</strong>: The Java Virtual Machine and the Java ClassLoader use an algorithm called the&nbsp;<strong>Delegation Hierarchy Algorithm</strong>&nbsp;to Load the classes into the Java file.<br>The ClassLoader works based on a set of operations given by the delegation model. They are:<ul>
<li>ClassLoader always follows the&nbsp;<strong>Delegation Hierarchy Principle</strong>.</li>
<li>Whenever JVM comes across a class, it checks whether that class is already loaded or not.</li>
<li>If the Class is already loaded in the method area then the JVM proceeds with execution.</li>
<li>If the class is not present in the method area then the JVM asks the Java ClassLoader Sub-System to load that particular class, then ClassLoader sub-system hands over the control to&nbsp;<strong>Application ClassLoader</strong>.</li>
<li>Application ClassLoader then delegates the request to Extension ClassLoader and the&nbsp;<strong>Extension ClassLoader</strong>&nbsp;in turn delegates the request to&nbsp;<strong>Bootstrap ClassLoader</strong>.</li>
<li>Bootstrap ClassLoader will search in the Bootstrap classpath(JDK/JRE/LIB). If the class is available then it is loaded, if not the request is delegated to Extension ClassLoader.</li>
<li>Extension ClassLoader searches for the class in the Extension Classpath(JDK/JRE/LIB/EXT). If the class is available then it is loaded, if not the request is delegated to the Application ClassLoader.</li>
<li>Application ClassLoader searches for the class in the Application Classpath. If the class is available then it is loaded, if not then a&nbsp;<strong>ClassNotFoundException</strong>&nbsp;exception is generated.<br><img src="https://cdn.fygod.xyz/uploads/2022/08/31/1/1661959982/ZdhHR0ip_java_classloader-1024x311.png"></li>
</ul>
</li>
<li><strong>Visibility Principle</strong>: The&nbsp;<strong>Visibility Principle</strong>&nbsp;states that a class loaded by a parent ClassLoader is visible to the child ClassLoaders but a class loaded by a child ClassLoader is not visible to the parent ClassLoaders. Suppose a class GEEKS.class has been loaded by the Extension ClassLoader, then that class is only visible to the Extension ClassLoader and Application ClassLoader but not to the Bootstrap ClassLoader. If that class is again tried to load using Bootstrap ClassLoader it gives an exception&nbsp;<code>java.lang.ClassNotFoundException</code>.</li>
<li><strong>Uniqueness Property</strong>: The&nbsp;<strong>Uniquesness Property</strong>&nbsp;ensures that the classes are unique and there is no repetition of classes. This also ensures that the classes loaded by parent classloaders are not loaded by the child classloaders. If the parent class loader isn’t able to find the class, only then the current instance would attempt to do so itself.</li>
</ol>
<h3 id="Methods-of-Java-lang-ClassLoader"><a href="#Methods-of-Java-lang-ClassLoader" class="headerlink" title="Methods of Java.lang.ClassLoader"></a>Methods of Java.lang.ClassLoader</h3><p>After the JVM requests for the class, a few steps are to be followed in order to load a class. The Classes are loaded as per the delegation model but there are a few important Methods or Functions that play a vital role in loading a Class.</p>
<ol>
<li><strong>loadClass(String name, boolean resolve)</strong> : This method is used to load the classes which are referenced by the JVM. It takes the name of the class as a parameter. This is of type loadClass(String, boolean).</li>
<li><strong>defineClass()</strong> : The defineClass() method is a&nbsp;<em>final</em>&nbsp;method and cannot be overriden. This method is used to define a array of bytes as an instance of class. If the class is invalid then it throws&nbsp;<strong>ClassFormatError</strong>.</li>
<li><strong>findClass(String name)</strong> : This method is used to find a specified class. This method only finds but doesn’t load the class.</li>
<li><strong>findLoadedClass(String name)</strong> : This method is used to verify whether the Class referenced by the JVM was previously loaded or not.</li>
<li><strong>Class.forName(String name, boolean initialize, ClassLoader loader)</strong> : This method is used to load the class as well as initialize the class. This method also gives the option to choose any one of the ClassLoaders. If the ClassLoader parameter is NULL then Bootstrap ClassLoader is used.</li>
</ol>
<p><strong>Example:</strong> &nbsp;The following code is executed before a class is loaded:</p>
<figure class="highlight java hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">synchronized</span> Class&lt;?&gt;</span><br><span class="line">loadClass(String name, <span class="hljs-type">boolean</span> resolve)</span><br><span class="line">    <span class="hljs-keyword">throws</span> ClassNotFoundException</span><br><span class="line">{</span><br><span class="line">    <span class="hljs-type">Class</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> findLoadedClass(name);</span><br><span class="line">    <span class="hljs-keyword">try</span> {</span><br><span class="line">        <span class="hljs-keyword">if</span> (c == NULL) {</span><br><span class="line">            <span class="hljs-keyword">if</span> (parent != NULL) {</span><br><span class="line">                c = parent.loadClass(name, <span class="hljs-literal">false</span>);</span><br><span class="line">            }</span><br><span class="line">            <span class="hljs-keyword">else</span> {</span><br><span class="line">                c = findBootstrapClass0(name);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="hljs-keyword">catch</span> (ClassNotFoundException e)</span><br><span class="line">        {</span><br><span class="line">            System.out.println(e);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>Note</strong>: If a class has already been loaded, it returns it. Otherwise, it delegates the search for the new class to the parent class loader. If the parent class loader doesn’t find the class,&nbsp;<strong>loadClass()</strong> &nbsp;calls the method&nbsp;<strong>findClass()</strong> &nbsp;to find and load the class. The&nbsp;<strong>findClass()</strong> &nbsp;method searches for the class in the current&nbsp;<strong>ClassLoader</strong>&nbsp;if the class wasn’t found by the parent&nbsp;<strong>ClassLoader</strong>.</p>
</body></html>
    
    </div>
    
    <div class="columns is-variable is-1 is-multiline is-mobile">
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/JVM/">#JVM</a></span>
    
        <span class="column is-narrow"><a class="tag is-light article-tag" href="/tags/JRE/">#JRE</a></span>
    
    </div>
    
    
    <div class="columns is-mobile is-multiline article-nav">
        <span class="column is-12-mobile is-half-desktop  article-nav-prev">
            
            <a href="/2022/07/29/Reverse%20Linked%20List/">Reverse Linked List</a>
            
        </span>
        <span class="column is-12-mobile is-half-desktop is-hidden-mobile article-nav-next">
            
        </span>
    </div>
    
</article>


<div class="sharebox">
    
<div class="sharethis-inline-share-buttons"></div>
<script type='text/javascript' src='https://platform-api.sharethis.com/js/sharethis.js#property=630b7a7dabecf600135ed395&amp;product=inline-share-buttons' async='async'></script>

</div>



<div class="comments">
    <h3 class="title is-4">Comments</h3>
    
<div id="valine-thread"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script>
    new Valine({
        el: '#valine-thread',
        appId: '4rh6eBEX06S0WVGKwyp0WHUL-gzGzoHsz',
        appKey: 'naVqOrvrDzfBBLan1ty1BtNe',
        notify: true,
        verify: true,
        avatar: 'retro',
        placeholder: 'ヾﾉ≧∀≦)ヾ',
        meta: ['nick', 'mail'],
        visitor: true,
        lang: ''
    })
</script>


</div>

    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2022 Joker&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        target="_blank" rel="noopener" href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            <div class="column is-narrow">
                <div class="columns is-mobile is-multiline is-centered">
                
                    
                <a class="column is-narrow has-text-black" title="GitHub" target="_blank" rel="noopener" href="https://github.com/dumb0stack/dumb0stack.github.io">
                    
                    GitHub
                    
                </a>
                
                </div>
            </div>
            
            
        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("en-AU");
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
</script>

    
    
    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery > p > .gallery-item').unwrap();
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hljs .clipboard-btn:hover {
          color: #8a8a8a;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
        clipboard.on('success', function(e) {
          e.clearSelection();
        })
      })
    </script>

    
    

    



<script src="/js/script.js"></script>


    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>

<script src="/js/insight.js"></script>

    
</body>
</html>